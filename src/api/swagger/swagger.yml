swagger: "2.0"
info:
  title: API文档
  description: 文档描述
  version: 1.0.0
  contact:
    email: 773683464@qq.com
basePath: /v1
paths:
  /app/accesstoken:
    post:
      tags:
      - app
      summary: openid获取token
      description: openid获取token
      operationId: AppController.openid获取token
      parameters:
      - in: formData
        name: openid
        description: openid
        required: true
        type: string
      responses:
        "200":
          description: '{<br/> token}'
        "403":
          description: :openid is empty
  /app/login:
    post:
      tags:
      - app
      summary: 用户登录获取token
      description: 用户登录获取token
      operationId: AppController.用户登录获取token
      parameters:
      - in: formData
        name: telphone
        description: 手机号
        required: true
        type: string
      - in: formData
        name: password
        description: 密码
        required: true
        type: string
      responses:
        "200":
          description: '{<br/> "telphone": "手机号",<br/>"password": "密码",<br/>}'
        "403":
          description: :openid is empty
  /app/useradd:
    post:
      tags:
      - app
      summary: 添加用户
      description: 添加用户
      operationId: AppController.添加用户
      parameters:
      - in: formData
        name: nickname
        description: 昵称
        required: true
        type: string
      - in: formData
        name: openid
        description: openid
        type: string
      - in: formData
        name: wnickname
        description: 微信昵称
        type: string
      - in: formData
        name: wimgurl
        description: 微信头像
        type: string
      - in: formData
        name: mgurl
        description: 头像
        type: string
      - in: formData
        name: gender
        description: 性别1:男2:女3:保密
        type: integer
        format: int64
      - in: formData
        name: age
        description: 年龄
        type: integer
        format: int64
      - in: formData
        name: telphone
        description: 手机号
        type: integer
        format: int64
      - in: formData
        name: qq
        description: QQ
        type: string
      - in: formData
        name: weino
        description: 微博
        type: string
      - in: formData
        name: signature
        description: 个性签名
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "userid": "用户编号",<br/> "openid": "openid",<br/> "wnickname":
            "微信昵称",<br/> "wimgurl": "微信头像", <br/>"nickname": "昵称",<br/> "imgurl":
            "头像",<br/> "gender":"性别1:男2:女3:保密",<br/> "age":"年龄",<br/> "telphone":"手机号",
            <br/>"QQ": "QQ",<br/> "weino": "微博号", <br/>"signature": "个性签名", <br/>"address":
            "个人地址",<br/> "created_at": "注册时间",<br/>"updated_at":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /book/addconcern:
    post:
      tags:
      - book
      summary: 收藏人/书籍
      description: 收藏人/书籍
      operationId: BooksController.收藏人/书籍
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: userid_from
        description: 书主人编号/图书编号bookid
        required: true
        type: string
      - in: formData
        name: concern_type
        description: 1:收藏书籍;2:收藏人
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "userid_to": "收藏人编号",<br/> "userid_from": "书主人/图书编号",<br/>
            "concern_type": "1:收藏书籍;2:收藏人",<br/> "created_at": "收藏时间" }'
        "500":
          description: 服务器错误!
  /book/bookadd:
    post:
      tags:
      - book
      summary: 添加书籍
      description: 添加书籍
      operationId: BooksController.添加书籍
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: bookname
        description: 书名
        required: true
        type: string
      - in: formData
        name: author
        description: 作者
        type: string
      - in: formData
        name: imgurl
        description: 图书封面图
        type: string
      - in: formData
        name: imghead
        description: 图书正面图
        type: string
      - in: formData
        name: imgback
        description: 图书背面图
        type: string
      - in: formData
        name: isbn
        description: 条形码
        type: string
      - in: formData
        name: describe
        description: 图书简介
        type: string
      - in: formData
        name: price
        description: 标价
        type: string
      - in: formData
        name: userid
        description: 用户id
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /book/concernbooklist:
    post:
      tags:
      - book
      summary: 收藏的图书列表
      description: 收藏的图书列表
      operationId: BooksController.收藏的图书列表
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: length
        description: 分页步长
        type: integer
        format: int64
      - in: formData
        name: draw
        description: 请求页数
        type: integer
        format: int64
      responses:
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /book/concernuserlist:
    post:
      tags:
      - book
      summary: 收藏的用户列表
      description: 收藏的图书列表
      operationId: BooksController.收藏的用户列表
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: length
        description: 分页步长
        type: integer
        format: int64
      - in: formData
        name: draw
        description: 请求页数
        type: integer
        format: int64
      responses:
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /book/delbookconcern:
    post:
      tags:
      - book
      summary: 批量删除收藏
      description: 批量删除收藏
      operationId: BooksController.批量删除收藏
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: concernid
        description: '[编号1,编号2,编号3]'
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{ <br/>"bookqid": "图书唯一编号",<br/> "userid": "用户id",<br/> "bookid":
            "图书编号", <br/>"book_state": "状态1:上架;2:下架;3:待补充4:删除",<br/> "is_borrow":
            "状态1:可借阅;2:已借出;3:不可借",<br/> "create_time": "上架时间",<br/>"update_time":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /booknews/libraryrequest:
    post:
      tags:
      - booknews
      summary: 发起借书请求
      description: 发起借书请求
      operationId: BooknewsController.发起借书请求
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: from
        description: 书主人用户编号
        required: true
        type: string
      - in: formData
        name: bookqid
        description: 书主人书架图书唯一编号
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"userid":"用户编号","bookqid":"图书唯一编号","bookid": "图书编号",<br/>
            "bookname": "书名",<br/> "author": "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl":
            "图书正面图",<br/> "imgbackurl": "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/>
            "price":"标价", <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at":
            "上架时间",<br/>"updated_at":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /booknews/libraryrequestupdate:
    post:
      tags:
      - booknews
      summary: 更改借书请求状态
      description: 更改借书消息状态
      operationId: BooknewsController.更改借书请求状态
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: newid
        description: 消息编号
        required: true
        type: string
      - in: formData
        name: order_state
        description: 消息状态1:同意借书2:拒绝借书
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /booknews/newsList:
    post:
      tags:
      - booknews
      summary: 借书消息列表
      description: 借书消息列表
      operationId: BooknewsController.借书消息列表
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: length
        description: 分页步长
        type: string
      - in: formData
        name: draw
        description: 当前页
        type: string
      - in: formData
        name: bookqid
        description: 图书唯一编号
        type: string
      - in: formData
        name: newid
        description: 消息编号
        type: string
      - in: formData
        name: order_state
        description: 消息状态1:同意2:拒绝,3:完成，0：借书请求'
        type: string
      responses:
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "bookstate": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /bookorder/orderList:
    post:
      tags:
      - bookorder
      summary: 订单列表
      description: 订单列表
      operationId: BookorderController.订单列表
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: length
        description: 获取分页步长
        type: string
      - in: formData
        name: draw
        description: 当前页
        type: string
      - in: formData
        name: bookname
        description: 书名
        type: string
      - in: formData
        name: author
        description: 作者
        type: string
      - in: formData
        name: bookid
        description: 图书编号\
        type: string
      - in: formData
        name: bookqid
        description: 用户书架图书唯一编号
        type: string
      - in: formData
        name: isbn
        description: 图书条形码
        type: string
      - in: formData
        name: orderid
        description: 订单编号
        type: string
      - in: formData
        name: userid_from
        description: 书主人编号
        type: string
      - in: formData
        name: userid_to
        description: 借书人编号
        type: string
      - in: formData
        name: order_state
        description: 消息状态1:同意2:拒绝,3:完成，0：借书请求'
        type: string
      responses:
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "bookstate": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /bookorder/orderadd:
    post:
      tags:
      - bookorder
      summary: 创建订单
      description: 创建订单
      operationId: BookorderController.创建订单
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: from
        description: 书主人用户编号
        required: true
        type: string
      - in: formData
        name: bookqid
        description: 书主人书架图书唯一编号
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"userid":"用户编号", "bookid": "图书编号",<br/> "bookname":
            "书名",<br/> "author": "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl":
            "图书正面图",<br/> "imgbackurl": "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/>
            "price":"标价", <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at":
            "上架时间",<br/>"updated_at":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /bookorder/orderupdate:
    post:
      tags:
      - bookorder
      summary: 更改订单
      description: 更改订单
      operationId: BookorderController.更改订单
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: orderid
        description: 订单编号
        required: true
        type: string
      - in: formData
        name: order_state
        description: 消息状态状态1:同意2:拒绝,3:完成，0：借书请求
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /bookrack/bookrackadd:
    post:
      tags:
      - bookrack
      summary: 添加到书架
      description: 添加到书架
      operationId: BooksrackController.添加到书架
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: bookid
        description: 图书编号
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{ <br/>"bookqid": "图书唯一编号",<br/> "userid": "用户id",<br/> "bookid":
            "图书编号", <br/>"book_state": "状态1:上架;2:下架;3:待补充",<br/> "is_borrow": "状态1:可借阅;2:已借出;3:不可借",<br/>
            "create_time": "上架时间",<br/>"update_time":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /bookrack/bookrackaddbysn:
    post:
      tags:
      - bookrack
      summary: 扫条码添加到书架
      description: 扫条码添加到书架
      operationId: BooksrackController.扫条码添加到书架
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: isbn
        description: 图书条码
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{ <br/>"bookqid": "图书唯一编号",<br/> "userid": "用户id",<br/> "bookid":
            "图书编号", <br/>"book_state": "状态1:上架;2:下架;3:待补充",<br/> "is_borrow": "状态1:可借阅;2:已借出;3:不可借",<br/>
            "create_time": "上架时间",<br/>"update_time":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /bookrack/bookracklist:
    post:
      tags:
      - bookrack
      summary: 书城
      description: 书城
      operationId: BooksrackController.书城
      parameters:
      - in: formData
        name: length
        description: 获取分页步长
        type: string
      - in: formData
        name: draw
        description: 当前页
        type: string
      - in: formData
        name: gender
        description: 性别
        type: string
      - in: formData
        name: age
        description: 年龄范围
        type: string
      - in: formData
        name: radius
        description: 方圆多少米范围内
        type: string
      responses:
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"openid":
            "oX8vKwueTHOC3wrUkm2eJBnm-m6A",<br/>"bookid": "图书编号",<br/>"book_state":
            "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"wnickname":
            "微信昵称",<br/>"wimgurl": "微信头像",<br/>"nickname": "用户昵称",<br/>"imgurl": "用户头像",<br/>"gender":
            "性别1:男2:女0:保密",<br/>"age": "年龄",<br/>"telphone": "手机号",<br/>"password":
            "密码",<br/>"qq": "QQ号",<br/>"weibo": "微博号",<br/>"signature": "个性签名",<br/>"constellation":
            "星座",<br/>"province": "北京市",<br/>"city": "北京市",<br/>"address": "地址",<br/>"long":"经度",<br/>"lat":"纬度",<br/>"logintime":
            "用户最后登录时间",<br/>"created_at": "用户注册时间",<br/>"updated_at": "用户修改资料时间",<br/>"radius":
            "距离"'
        "500":
          description: 服务器错误!
  /bookrack/bookrackupdate:
    post:
      tags:
      - bookrack
      summary: 批量上架/下架/删除图书
      description: 批量上架/下架/删除图书
      operationId: BooksrackController.批量上架/下架/删除图书
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: bookinfo
        description: '[{bookqid:图书唯一编号,book_state:书架图书状态状态1:上架;2:下架;3:待补充,4:删除}]'
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{ <br/>"bookqid": "图书唯一编号",<br/> "userid": "用户id",<br/> "bookid":
            "图书编号", <br/>"book_state": "状态1:上架;2:下架;3:待补充4:删除",<br/> "is_borrow":
            "状态1:可借阅;2:已借出;3:不可借",<br/> "create_time": "上架时间",<br/>"update_time":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /bookrack/getbookbysn:
    post:
      tags:
      - bookrack
      summary: 扫条码获取图书
      description: 扫条码获取图书
      operationId: BooksrackController.扫条码获取图书
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: isbn
        description: 图书条码
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{ <br/>"bookqid": "图书唯一编号",<br/> "userid": "用户id",<br/> "bookid":
            "图书编号", <br/>"book_state": "状态1:上架;2:下架;3:待补充",<br/> "is_borrow": "状态1:可借阅;2:已借出;3:不可借",<br/>
            "create_time": "上架时间",<br/>"update_time":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /bookrack/getbookinfo:
    post:
      tags:
      - bookrack
      summary: 查看一本书信息
      description: 查看一本书信息
      operationId: BooksrackController.查看一本书信息
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: bookqid
        description: 图书唯一编号
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"openid":
            "oX8vKwueTHOC3wrUkm2eJBnm-m6A",<br/>"bookid": "图书编号",<br/>"book_state":
            "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"wnickname":
            "微信昵称",<br/>"wimgurl": "微信头像",<br/>"nickname": "用户昵称",<br/>"imgurl": "用户头像",<br/>"gender":
            "性别1:男2:女0:保密",<br/>"age": "年龄",<br/>"telphone": "手机号",<br/>"password":
            "密码",<br/>"qq": "QQ号",<br/>"weibo": "微博号",<br/>"signature": "个性签名",<br/>"constellation":
            "星座",<br/>"province": "北京市",<br/>"city": "北京市",<br/>"address": "地址",<br/>"long":"经度",<br/>"lat":"纬度",<br/>"logintime":
            "用户最后登录时间",<br/>"created_at": "用户注册时间",<br/>"updated_at": "用户修改资料时间",<br/>"radius":
            "距离"// @Param   token       header     string  true  "token"'
        "500":
          description: 服务器错误!
  /bookrack/getbookusers:
    post:
      tags:
      - bookrack
      summary: 拥有此书的人
      description: 拥有此书的人
      operationId: BooksrackController.拥有此书的人
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: length
        description: 获取分页步长
        type: string
      - in: formData
        name: draw
        description: 当前页
        type: string
      - in: formData
        name: bookid
        description: 书编号
        required: true
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"openid":
            "oX8vKwueTHOC3wrUkm2eJBnm-m6A",<br/>"bookid": "图书编号",<br/>"book_state":
            "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"wnickname":
            "微信昵称",<br/>"wimgurl": "微信头像",<br/>"nickname": "用户昵称",<br/>"imgurl": "用户头像",<br/>"gender":
            "性别1:男2:女0:保密",<br/>"age": "年龄",<br/>"telphone": "手机号",<br/>"password":
            "密码",<br/>"qq": "QQ号",<br/>"weibo": "微博号",<br/>"signature": "个性签名",<br/>"constellation":
            "星座",<br/>"province": "北京市",<br/>"city": "北京市",<br/>"address": "地址",<br/>"long":"经度",<br/>"lat":"纬度",<br/>"logintime":
            "用户最后登录时间",<br/>"created_at": "用户注册时间",<br/>"updated_at": "用户修改资料时间",<br/>"radius":
            "距离"// @Param   token       header     string  true  "token"'
        "500":
          description: 服务器错误!
  /bookrack/getmybooklist:
    post:
      tags:
      - bookrack
      summary: 上架记录
      description: 上架记录
      operationId: BooksrackController.上架记录
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: length
        description: 获取分页步长
        type: string
      - in: formData
        name: draw
        description: 当前页
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"openid":
            "oX8vKwueTHOC3wrUkm2eJBnm-m6A",<br/>"bookid": "图书编号",<br/>"book_state":
            "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"wnickname":
            "微信昵称",<br/>"wimgurl": "微信头像",<br/>"nickname": "用户昵称",<br/>"imgurl": "用户头像",<br/>"gender":
            "性别1:男2:女0:保密",<br/>"age": "年龄",<br/>"telphone": "手机号",<br/>"password":
            "密码",<br/>"qq": "QQ号",<br/>"weibo": "微博号",<br/>"signature": "个性签名",<br/>"constellation":
            "星座",<br/>"province": "北京市",<br/>"city": "北京市",<br/>"address": "地址",<br/>"long":"经度",<br/>"lat":"纬度",<br/>"logintime":
            "用户最后登录时间",<br/>"created_at": "用户注册时间",<br/>"updated_at": "用户修改资料时间",<br/>"radius":
            "距离"// @Param   token       header     string  true  "token"'
        "500":
          description: 服务器错误!
  /bookrack/mybookrack:
    post:
      tags:
      - bookrack
      summary: 我的书架
      description: 我的书架
      operationId: BooksrackController.我的书架
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: length
        description: 获取分页步长
        type: string
      - in: formData
        name: draw
        description: 当前页
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"openid":
            "oX8vKwueTHOC3wrUkm2eJBnm-m6A",<br/>"bookid": "图书编号",<br/>"book_state":
            "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"wnickname":
            "微信昵称",<br/>"wimgurl": "微信头像",<br/>"nickname": "用户昵称",<br/>"imgurl": "用户头像",<br/>"gender":
            "性别1:男2:女0:保密",<br/>"age": "年龄",<br/>"telphone": "手机号",<br/>"password":
            "密码",<br/>"qq": "QQ号",<br/>"weibo": "微博号",<br/>"signature": "个性签名",<br/>"constellation":
            "星座",<br/>"province": "北京市",<br/>"city": "北京市",<br/>"address": "地址",<br/>"long":"经度",<br/>"lat":"纬度",<br/>"logintime":
            "用户最后登录时间",<br/>"created_at": "用户注册时间",<br/>"updated_at": "用户修改资料时间",<br/>"radius":
            "距离"// @Param   token       header     string  true  "token"'
        "500":
          description: 服务器错误!
  /users/addlocaltionbyid:
    post:
      tags:
      - users
      summary: 用户上传地理位置
      description: 用户上传地理位置
      operationId: UsersController.用户上传地理位置
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: lang
        description: 纬度
        required: true
        type: string
      - in: formData
        name: lat
        description: 经度
        required: true
        type: string
      responses:
        "200":
          description: '{<br/> "lat": "经度",<br/>"lang": "纬度",<br/> "openid": "openid"}'
        "403":
          description: :openid is empty
  /users/getusersbylocaltion:
    post:
      tags:
      - users
      summary: 获取附近的人
      description: 获取附近的人
      operationId: UsersController.获取附近的人
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: radius
        description: 方圆多少米范围内
        required: true
        type: string
      responses:
        "200":
          description: '{<br/> "lat": "经度",<br/>"lang": "纬度",<br/> "openid": "openid"}'
        "403":
          description: :openid is empty
  /users/updateuser:
    post:
      tags:
      - users
      summary: 修改用户
      description: 修改用户
      operationId: UsersController.修改用户
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: userid
        description: 用户编号
        required: true
        type: string
      - in: formData
        name: nickname
        description: 昵称
        type: string
      - in: formData
        name: openid
        description: openid
        type: string
      - in: formData
        name: wnickname
        description: 微信昵称
        type: string
      - in: formData
        name: wimgurl
        description: 微信头像
        type: string
      - in: formData
        name: mgurl
        description: 头像
        type: string
      - in: formData
        name: gender
        description: 性别1:男2:女3:保密
        type: integer
        format: int64
      - in: formData
        name: age
        description: 年龄
        type: integer
        format: int64
      - in: formData
        name: telphone
        description: 手机号
        type: string
      - in: formData
        name: password
        description: 密码
        type: string
      - in: formData
        name: qq
        description: QQ
        type: string
      - in: formData
        name: weino
        description: 微博
        type: string
      - in: formData
        name: signature
        description: 个性签名
        type: string
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "userid": "用户编号",<br/> "openid": "openid",<br/> "wnickname":
            "微信昵称",<br/> "wimgurl": "微信头像", <br/>"nickname": "昵称",<br/> "imgurl":
            "头像",<br/> "gender":"性别1:男2:女3:保密",<br/> "age":"年龄",<br/> "telphone":"手机号",
            <br/>"QQ": "QQ",<br/> "weino": "微博号", <br/>"signature": "个性签名", <br/>"address":
            "个人地址",<br/> "created_at": "注册时间",<br/>"updated_at":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /users/uploadfile:
    post:
      tags:
      - users
      summary: 上传文件
      description: 上传文件
      operationId: UsersController.上传文件
      parameters:
      - in: formData
        name: fname
        description: 文件
        required: true
        type: file
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>  "url": "url" <br/> }'
        "500":
          description: 服务器错误!
  /users/userinfo:
    post:
      tags:
      - users
      summary: 获取用户信息
      description: 获取用户信息
      operationId: UsersController.获取用户信息
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: formData
        name: userid
        description: 用户编号
        type: string
      - in: formData
        name: nickname
        description: 昵称
        type: string
      - in: formData
        name: telphone
        description: 手机号
        type: string
      responses:
        "200":
          description: '{<br/> "userid": "用户编号",<br/> "openid": "openid",<br/> "wnickname":
            "微信昵称",<br/> "wimgurl": "微信头像", <br/>"nickname": "昵称",<br/> "imgurl":
            "头像",<br/> "gender":"性别1:男2:女3:保密",<br/> "age":"年龄",<br/> "telphone":"手机号",
            <br/>"QQ": "QQ",<br/> "weino": "微博号", <br/>"signature": "个性签名", <br/>"address":
            "个人地址",<br/> "created_at": "注册时间",<br/>"updated_at":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
tags:
- name: users
  description: |
    User API
- name: app
  description: |
    App API

swagger: "2.0"
info:
  title: API文档
  description: 文档描述
  version: 1.0.0
  contact:
    email: 773683464@qq.com
basePath: /v1
paths:
  /app/accesstoken:
    post:
      tags:
      - app
      summary: openid获取token
      description: openid获取token
      operationId: AppController.openid获取token
      parameters:
      - in: body
        name: body
        description: '{<br/>openid:openid<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.AccesstokenForm'
      responses:
        "200":
          description: '{<br/> token}'
        "403":
          description: :openid is empty
  /app/getwxaccount:
    post:
      tags:
      - app
      summary: 获取微信公众号信息
      description: 获取微信公众号信息
      operationId: AppController.获取微信公众号信息
      responses:
        "200":
          description: '"{<br/>"appid":"微信公众平台的AppID"<br/>,"secret":"微信公众平台的AppSecret"<br/>}'
        "403":
          description: :openid is empty
  /app/login:
    post:
      tags:
      - app
      summary: 用户登录获取token
      description: 用户登录获取token
      operationId: AppController.用户登录获取token
      parameters:
      - in: body
        name: body
        description: '{<br/>telphone:手机号,<br/>password:密码<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.LoginForm'
      responses:
        "200":
          description: '{<br/>oX8vKwqsI52Me2J2kCTkkYNohHfQ<br/>oX8vKwueTHOC3wrUkm2eJBnm-m6A<br/>}'
        "403":
          description: :openid is empty
  /app/useradd:
    post:
      tags:
      - app
      summary: 用户注册
      description: 用户注册
      operationId: AppController.用户注册
      parameters:
      - in: body
        name: body
        description: '{<br/>nickname:昵称,<br/>openid:openid,<br/>wnickname:微信昵称,<br/>wimgurl:微信头像,<br/>imgurl:头像,<br/>gender:性别1:男2:女3:保密,<br/>age:年龄,<br/>telphone:手机号,<br/>qq:qq,<br/>weino:微博,<br/>signature:个性签名<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.UseraddForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "userid": "用户编号",<br/> "openid": "openid",<br/> "wnickname":
            "微信昵称",<br/> "wimgurl": "微信头像", <br/>"nickname": "昵称",<br/> "imgurl":
            "头像",<br/> "gender":"性别1:男2:女3:保密",<br/> "age":"年龄",<br/> "telphone":"手机号",
            <br/>"QQ": "QQ",<br/> "weino": "微博号", <br/>"signature": "个性签名", <br/>"address":
            "个人地址",<br/>"constellation":"星座",<br/> "created_at": "注册时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /book/addconcern:
    post:
      tags:
      - book
      summary: 收藏人/书籍
      description: 收藏人/书籍
      operationId: BooksController.收藏人/书籍
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{参数含义参考返回值}'
        required: true
        schema:
          $ref: '#/definitions/models.AddconcernForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "userid_to": "收藏人编号",<br/> "userid_from": "书主人/图书编号",<br/>
            "concern_type": "1:收藏书籍;2:收藏人",<br/> "created_at": "收藏时间" <br/>}'
        "500":
          description: 服务器错误!
  /book/bookadd:
    post:
      tags:
      - book
      summary: 添加书籍
      description: 添加书籍
      operationId: BooksController.添加书籍
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{参数含义参考返回值}'
        required: true
        schema:
          $ref: '#/definitions/models.BookaddForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"折旧",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /book/booklist:
    post:
      tags:
      - book
      summary: 获取图书列表
      description: 获取图书列表
      operationId: BooksController.获取图书列表
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>length:获取分页步长, <br/>draw:当前页,<br/> }'
        required: true
        schema:
          $ref: '#/definitions/models.BookListForm'
      responses:
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /book/concernbooklist:
    post:
      tags:
      - book
      summary: 收藏的图书列表
      description: 收藏的图书列表
      operationId: BooksController.收藏的图书列表
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>length:获取分页步长, <br/>draw:当前页<br/> }'
        required: true
        schema:
          $ref: '#/definitions/models.ConcernBookListForm'
      responses:
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /book/concernuserlist:
    post:
      tags:
      - book
      summary: 收藏的用户列表
      description: 收藏的图书列表
      operationId: BooksController.收藏的用户列表
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>length:获取分页步长, <br/>draw:当前页<br/> }'
        required: true
        schema:
          $ref: '#/definitions/models.ConcernBookListForm'
      responses:
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /book/delbookconcern:
    post:
      tags:
      - book
      summary: 批量删除收藏
      description: 批量删除收藏
      operationId: BooksController.批量删除收藏
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ concernid: [1,2] }'
        required: true
        schema:
          $ref: '#/definitions/models.DelbookconcernForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{ <br/>"concernid": "收藏编号",<br/> "userid": "用户id",<br/> "bookid":
            "图书编号", <br/>"book_state": "状态1:上架;2:下架;3:待补充4:删除",<br/> "is_borrow":
            "状态1:可借阅;2:已借出;3:不可借",<br/> "create_time": "上架时间",<br/>"update_time":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /book/getuserbookinfo:
    post:
      tags:
      - book
      summary: 查看用户一本书信息
      description: 查看用户一本书信息
      operationId: BooksController.查看用户一本书信息
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{<br/>bookqid:图书编号-string<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.GetuserbookinfoForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"bookid":
            "图书编号",<br/>"book_state": "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"concernid":"收藏编号",<br/>"userid_to":"收藏人id",
            <br/>"userid_from":"图书编号",<br/>"concern_type":"收藏类型1:图书2:人",<br/> "created_at":"收藏时间"<br/>}'
        "500":
          description: 服务器错误!
  /booknews/agreelibraryrequest:
    post:
      tags:
      - booknews
      summary: 同意借书请求
      description: 同意借书请求
      operationId: BooknewsController.同意借书请求
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>newid:消息编号<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.AgreeLibraryrequestForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /booknews/libraryrequest:
    post:
      tags:
      - booknews
      summary: 发起借书请求
      description: 发起借书请求
      operationId: BooknewsController.发起借书请求
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>bookqid:图书唯一编号,order_type:类型:1:别人借我的书;2:我借别人的书, <br/>order_state:状态0:借书请求;1:接受2:拒绝<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.LibraryrequestForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"userid":"用户编号","bookqid":"图书唯一编号","bookid": "图书编号",<br/>
            "bookname": "书名",<br/> "author": "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl":
            "图书正面图",<br/> "imgbackurl": "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/>
            "price":"标价", <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at":
            "上架时间",<br/>"updated_at":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /booknews/newsList:
    post:
      tags:
      - booknews
      summary: 借书消息列表
      description: 借书消息列表
      operationId: BooknewsController.借书消息列表
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>length:获取分页步长, <br/>draw:当前页,<br/> order_state:消息状态1:同意2:拒绝,3:完成，0：借书请求''<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.NewslistForm'
      responses:
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "bookstate": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /booknews/refuselibraryrequest:
    post:
      tags:
      - booknews
      summary: 拒绝借书请求
      description: 拒绝借书请求
      operationId: BooknewsController.拒绝借书请求
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>newid:消息编号<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.RefuseLibraryrequestForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /bookorder/orderList:
    post:
      tags:
      - bookorder
      summary: 交换记录列表
      description: 交换记录列表
      operationId: BookorderController.交换记录列表
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>length:获取分页步长,<br/>length:获取分页步长, <br/>order_state:状态0:待确认;1:已交换2:拒绝交换<br/>
          }'
        required: true
        schema:
          $ref: '#/definitions/models.OrderlistForm'
      responses:
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "bookstate": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /bookorder/orderdelete:
    post:
      tags:
      - bookorder
      summary: 删除交易记录
      description: 删除交易记录
      operationId: BookorderController.删除交易记录
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/> orderid:订单编号 <br/> }'
        required: true
        schema:
          $ref: '#/definitions/models.OrderdeleteForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /bookorder/orderupdate:
    post:
      tags:
      - bookorder
      summary: 更改交易记录状态
      description: 更改交易记录状态
      operationId: BookorderController.更改交易记录状态
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>orderid:订单编号, <br/>order_state:状态0:待确认;1:已交换2:拒绝交换<br/>
          }'
        required: true
        schema:
          $ref: '#/definitions/models.OrderupdateForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "bookid": "图书编号",<br/> "bookname": "书名",<br/> "author":
            "作者",<br/> "imgurl": "图书封面图", <br/>"imgheadurl": "图书正面图",<br/> "imgbackurl":
            "图书背面图",<br/> "barcode":"条形码",<br/> "depreciation":"",<br/> "price":"标价",
            <br/>"describe": "图书简介",<br/> "state": "状态",<br/> "created_at": "上架时间",<br/>"updated_at":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /bookrack/bookrackadd:
    post:
      tags:
      - bookrack
      summary: 添加到书架
      description: 添加到书架
      operationId: BooksrackController.添加到书架
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>bookid:图书编号 <br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.BookrackaddForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{ <br/>"bookqid": "图书唯一编号",<br/> "userid": "用户id",<br/> "bookid":
            "图书编号", <br/>"book_state": "状态1:上架;2:下架;3:待补充",<br/> "is_borrow": "状态1:可借阅;2:已借出;3:不可借",<br/>
            "create_time": "上架时间",<br/>"update_time":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /bookrack/bookrackaddbysn:
    post:
      tags:
      - bookrack
      summary: 扫条码添加到书架
      description: 扫条码添加到书架
      operationId: BooksrackController.扫条码添加到书架
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>isbn:图书条码 <br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.BookrackaddbysnForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{ <br/>"bookqid": "图书唯一编号",<br/> "userid": "用户id",<br/> "bookid":
            "图书编号", <br/>"book_state": "状态1:上架;2:下架;3:待补充",<br/> "is_borrow": "状态1:可借阅;2:已借出;3:不可借",<br/>
            "create_time": "上架时间",<br/>"update_time":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /bookrack/bookracklist:
    post:
      tags:
      - bookrack
      summary: 书城
      description: 书城
      operationId: BooksrackController.书城
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>length:获取分页步长, <br/>draw:当前页,<br/> gender:性别1:男2:女0:保密,<br/>
          age:年龄范围20-30,<br/>radius:方圆多少米范围内<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.BookracklistForm'
      responses:
        "200":
          description: '{<br/>"bookqid":"图书唯一编号",<br/>"userid": "用户编号",<br/>"openid":
            "oX8vKwueTHOC3wrUkm2eJBnm-m6A",<br/>"bookid": "图书编号",<br/>"book_state":
            "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"wnickname":
            "微信昵称",<br/>"wimgurl": "微信头像",<br/>"nickname": "用户昵称",<br/>"imgurl": "用户头像",<br/>"gender":
            "性别1:男2:女0:保密",<br/>"age": "年龄",<br/>"telphone": "手机号",<br/>"password":
            "密码",<br/>"qq": "QQ号",<br/>"weibo": "微博号",<br/>"signature": "个性签名",<br/>"constellation":
            "星座",<br/>"province": "北京市",<br/>"city": "北京市",<br/>"address": "地址",<br/>"long":"经度",<br/>"lat":"纬度",<br/>"logintime":
            "用户最后登录时间",<br/>"created_at": "用户注册时间",<br/>"updated_at": "用户修改资料时间",<br/>"radius":
            "距离" <br/>}'
        "500":
          description: 服务器错误!
  /bookrack/bookrackupdate:
    post:
      tags:
      - bookrack
      summary: 批量上架/下架/删除图书
      description: 批量上架/下架/删除图书
      operationId: BooksrackController.批量上架/下架/删除图书
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{<br/>bookqid:[1,2],<br/>book_state:书架图书状态状态1:上架;2:下架;3:待补充,4:删除<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.BookStateForm'
      responses:
        "100":
          description: 错误提示信息!y
        "200":
          description: '{ <br/>"bookqid": "图书唯一编号",<br/> "userid": "用户id",<br/> "bookid":
            "图书编号", <br/>"book_state": "状态1:上架;2:下架;3:待补充4:删除",<br/> "is_borrow":
            "状态1:可借阅;2:已借出;3:不可借",<br/> "create_time": "上架时间",<br/>"update_time":"信息修改时间"<br/>
            }'
        "500":
          description: 服务器错误!
  /bookrack/getbookbysn:
    post:
      tags:
      - bookrack
      summary: 扫条码获取图书
      description: 扫条码获取图书
      operationId: BooksrackController.扫条码获取图书
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{<br/>isbn:图书条码<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.BookrackaddbysnForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{ <br/>"bookqid": "图书唯一编号",<br/> "userid": "用户id",<br/> "bookid":
            "图书编号", <br/>"book_state": "状态1:上架;2:下架;3:待补充",<br/> "is_borrow": "状态1:可借阅;2:已借出;3:不可借",<br/>
            "create_time": "上架时间",<br/>"update_time":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /bookrack/getbookinfo:
    post:
      tags:
      - bookrack
      summary: 查看一本书信息
      description: 查看一本书信息
      operationId: BooksrackController.查看一本书信息
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{<br/>bookid:图书编号-string<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.GetbookinfoForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"bookid":
            "图书编号",<br/>"book_state": "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"concernid":"收藏编号",<br/>"userid_to":"收藏人id",
            <br/>"userid_from":"图书编号",<br/>"concern_type":"收藏类型1:图书2:人",<br/> "created_at":"收藏时间"<br/>}'
        "500":
          description: 服务器错误!
  /bookrack/getbookusers:
    post:
      tags:
      - bookrack
      summary: 拥有此书的人
      description: 拥有此书的人
      operationId: BooksrackController.拥有此书的人
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>length:获取分页步长, <br/>draw:当前页,<br/> bookid:书编号<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.GetbookusersForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"openid":
            "oX8vKwueTHOC3wrUkm2eJBnm-m6A",<br/>"bookid": "图书编号",<br/>"book_state":
            "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"wnickname":
            "微信昵称",<br/>"wimgurl": "微信头像",<br/>"nickname": "用户昵称",<br/>"imgurl": "用户头像",<br/>"gender":
            "性别1:男2:女0:保密",<br/>"age": "年龄",<br/>"telphone": "手机号",<br/>"password":
            "密码",<br/>"qq": "QQ号",<br/>"weibo": "微博号",<br/>"signature": "个性签名",<br/>"constellation":
            "星座",<br/>"province": "北京市",<br/>"city": "北京市",<br/>"address": "地址",<br/>"long":"经度",<br/>"lat":"纬度",<br/>"logintime":
            "用户最后登录时间",<br/>"created_at": "用户注册时间",<br/>"updated_at": "用户修改资料时间",<br/>"radius":
            "距离"<br/>}'
        "500":
          description: 服务器错误!
  /bookrack/getmybooklist:
    post:
      tags:
      - bookrack
      summary: 上架记录
      description: 上架记录
      operationId: BooksrackController.上架记录
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>length:获取分页步长, <br/>draw:当前页<br/> }'
        required: true
        schema:
          $ref: '#/definitions/models.GetbookusersForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"openid":
            "oX8vKwueTHOC3wrUkm2eJBnm-m6A",<br/>"bookid": "图书编号",<br/>"book_state":
            "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"wnickname":
            "微信昵称",<br/>"wimgurl": "微信头像",<br/>"nickname": "用户昵称",<br/>"imgurl": "用户头像",<br/>"gender":
            "性别1:男2:女0:保密",<br/>"age": "年龄",<br/>"telphone": "手机号",<br/>"password":
            "密码",<br/>"qq": "QQ号",<br/>"weibo": "微博号",<br/>"signature": "个性签名",<br/>"constellation":
            "星座",<br/>"province": "北京市",<br/>"city": "北京市",<br/>"address": "地址",<br/>"long":"经度",<br/>"lat":"纬度",<br/>"logintime":
            "用户最后登录时间",<br/>"created_at": "用户注册时间",<br/>"updated_at": "用户修改资料时间",<br/>"radius":
            "距离" <br/>}'
        "500":
          description: 服务器错误!
  /bookrack/getuserinfo:
    post:
      tags:
      - bookrack
      summary: 查看用户信息
      description: 查看用户信息
      operationId: BooksrackController.查看用户信息
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{<br/>userid:用户编号<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.GetuserinfoForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"bookid":
            "图书编号",<br/>"book_state": "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"concernid":"收藏编号",<br/>"userid_to":"收藏人id",
            <br/>"userid_from":"图书编号",<br/>"concern_type":"收藏类型1:图书2:人",<br/> "created_at":"收藏时间"<br/>}'
        "500":
          description: 服务器错误!
  /bookrack/mybookrack:
    post:
      tags:
      - bookrack
      summary: 我的书架
      description: 我的书架
      operationId: BooksrackController.我的书架
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>length:获取分页步长, <br/>draw:当前页<br/> }'
        required: true
        schema:
          $ref: '#/definitions/models.ConcernBookListForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>"bookqid": "图书唯一编号",<br/>"userid": "用户编号",<br/>"openid":
            "oX8vKwueTHOC3wrUkm2eJBnm-m6A",<br/>"bookid": "图书编号",<br/>"book_state":
            "状态1:上架;2:下架;3:待补充,4:删除",<br/>"is_borrow": "状态1:可借阅;2:不可借;",<br/>"create_time":
            "上架时间",<br/>"update_time": "修改时间",<br/>"bookname": "书名",<br/>"auhtor":
            "作者",<br/>"imageurl": "图书封面图",<br/>"imagehead": "图书正面图",<br/>"imageback":
            "图书背面图",<br/>"isbn": "图书条形码",<br/>"depreciation": "图书折旧",<br/>"price":
            "图书标价",<br/>"describe": "图书描述",<br/>"state": ''状态 0非锁定状态 1：锁定状态'',<br/>"wnickname":
            "微信昵称",<br/>"wimgurl": "微信头像",<br/>"nickname": "用户昵称",<br/>"imgurl": "用户头像",<br/>"gender":
            "性别1:男2:女0:保密",<br/>"age": "年龄",<br/>"telphone": "手机号",<br/>"password":
            "密码",<br/>"qq": "QQ号",<br/>"weibo": "微博号",<br/>"signature": "个性签名",<br/>"constellation":
            "星座",<br/>"province": "北京市",<br/>"city": "北京市",<br/>"address": "地址",<br/>"long":"经度",<br/>"lat":"纬度",<br/>"logintime":
            "用户最后登录时间",<br/>"created_at": "用户注册时间",<br/>"updated_at": "用户修改资料时间",<br/>"radius":
            "距离"<br/>}'
        "500":
          description: 服务器错误!
  /users/addlocaltionbyid:
    post:
      tags:
      - users
      summary: 用户上传地理位置
      description: 用户上传地理位置
      operationId: UsersController.用户上传地理位置
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>lat:经度, <br/>lang:纬度<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.AddLocaltionByIDForm'
      responses:
        "200":
          description: '{<br/> "lat": "经度",<br/>"lang": "纬度",<br/> "openid": "openid"}'
        "403":
          description: :openid is empty
  /users/getusersbylocaltion:
    post:
      tags:
      - users
      summary: 获取附近的人
      description: 获取附近的人
      operationId: UsersController.获取附近的人
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>length:获取分页步长, <br/>draw:当前页,<br/> gender:性别1:男2:女0:保密,<br/>
          age:年龄范围20-30,<br/>radius:方圆多少米范围内200-300<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.GetUsersByLocaltionForm'
      responses:
        "200":
          description: '{<br/> "lat": "经度",<br/>"lang": "纬度",<br/> "openid": "openid"}'
        "403":
          description: :openid is empty
  /users/updateuser:
    post:
      tags:
      - users
      summary: 修改用户
      description: 修改用户
      operationId: UsersController.修改用户
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{<br/>nickname:昵称,<br/>openid:openid,<br/>wnickname:微信昵称,<br/>wimgurl:微信头像,<br/>imgurl:头像,<br/>gender:性别1:男2:女3:保密,<br/>age:年龄,<br/>telphone:手机号,<br/>qq:qq,<br/>Constellation:星座,<br/>weino:微博,<br/>signature:个性签名<br/>}'
        required: true
        schema:
          $ref: '#/definitions/models.UseraddForm'
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/> "userid": "用户编号",<br/> "openid": "openid",<br/> "wnickname":
            "微信昵称",<br/> "wimgurl": "微信头像", <br/>"nickname": "昵称",<br/> "imgurl":
            "头像",<br/> "gender":"性别1:男2:女3:保密",<br/> "age":"年龄",<br/> "telphone":"手机号",
            <br/>"QQ": "QQ",<br/> "weino": "微博号", <br/>"signature": "个性签名", <br/>"address":
            "个人地址",<br/> "created_at": "注册时间",<br/>"updated_at":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
  /users/uploadfile:
    post:
      tags:
      - users
      summary: 上传文件
      description: 上传文件
      operationId: UsersController.上传文件
      parameters:
      - in: formData
        name: fname
        description: 文件
        required: true
        type: file
      responses:
        "100":
          description: 错误提示信息!
        "200":
          description: '{<br/>  "url": "url" <br/> }'
        "500":
          description: 服务器错误!
  /users/userinfo:
    post:
      tags:
      - users
      summary: 获取用户信息
      description: 获取用户信息
      operationId: UsersController.获取用户信息
      parameters:
      - in: header
        name: token
        description: token
        required: true
        type: string
      - in: body
        name: body
        description: '{ <br/>userid:用户编号, <br/>nickname:昵称,<br/>telphone:手机号}'
        required: true
        schema:
          $ref: '#/definitions/models.UserinfoForm'
      responses:
        "200":
          description: '{<br/> "userid": "用户编号",<br/> "openid": "openid",<br/> "wnickname":
            "微信昵称",<br/> "wimgurl": "微信头像", <br/>"nickname": "昵称",<br/> "imgurl":
            "头像",<br/> "gender":"性别1:男2:女3:保密",<br/> "age":"年龄",<br/> "telphone":"手机号",
            <br/>"QQ": "QQ",<br/> "weino": "微博号", <br/>"signature": "个性签名", <br/>"address":
            "个人地址",<br/> "created_at": "注册时间",<br/>"updated_at":"信息修改时间"<br/> }'
        "500":
          description: 服务器错误!
definitions:
  models.AccesstokenForm:
    title: AccesstokenForm
    type: object
    properties:
      openid:
        type: string
  models.AddLocaltionByIDForm:
    title: AddLocaltionByIDForm
    type: object
    properties:
      lang:
        type: number
        format: double
      lat:
        type: number
        format: double
  models.AddconcernForm:
    title: AddconcernForm
    type: object
    properties:
      concern_type:
        type: string
      userid_from:
        type: string
  models.AgreeLibraryrequestForm:
    title: AgreeLibraryrequestForm
    type: object
    properties:
      newid:
        type: string
      qq:
        type: string
      telphone:
        type: string
      wechat:
        type: string
  models.BookListForm:
    title: BookListForm
    type: object
    properties:
      draw:
        type: integer
        format: int64
      length:
        type: integer
        format: int64
  models.BookStateForm:
    title: BookStateForm
    type: object
    properties:
      book_state:
        type: string
      bookqid:
        type: array
        items:
          type: string
  models.BookaddForm:
    title: BookaddForm
    type: object
    properties:
      auhtor:
        type: string
      bookname:
        type: string
      depreciation:
        type: integer
        format: int32
      describe:
        type: string
      imageback:
        type: string
      imagehead:
        type: string
      imageurl:
        type: string
      isbn:
        type: string
      price:
        type: integer
        format: int32
      state:
        type: integer
        format: int32
      userid:
        type: string
  models.BookrackaddForm:
    title: BookrackaddForm
    type: object
    properties:
      bookid:
        type: string
  models.BookrackaddbysnForm:
    title: BookrackaddbysnForm
    type: object
    properties:
      isbn:
        type: string
  models.BookracklistForm:
    title: BookracklistForm
    type: object
    properties:
      age:
        type: string
      draw:
        type: integer
        format: int64
      gender:
        type: string
      length:
        type: integer
        format: int64
      radius:
        type: string
  models.ConcernBookListForm:
    title: ConcernBookListForm
    type: object
    properties:
      draw:
        type: integer
        format: int64
      length:
        type: integer
        format: int64
      userid:
        type: string
  models.DelbookconcernForm:
    title: DelbookconcernForm
    type: object
    properties:
      concernid:
        type: array
        items:
          type: string
  models.GetUsersByLocaltionForm:
    title: GetUsersByLocaltionForm
    type: object
    properties:
      age:
        type: string
      draw:
        type: integer
        format: int64
      gender:
        type: string
      length:
        type: integer
        format: int64
      radius:
        type: string
  models.GetbookinfoForm:
    title: GetbookinfoForm
    type: object
    properties:
      bookid:
        type: string
  models.GetbookusersForm:
    title: GetbookusersForm
    type: object
    properties:
      bookid:
        type: string
      draw:
        type: integer
        format: int64
      length:
        type: integer
        format: int64
  models.GetuserbookinfoForm:
    title: GetuserbookinfoForm
    type: object
    properties:
      bookqid:
        type: string
  models.GetuserinfoForm:
    title: GetuserinfoForm
    type: object
    properties:
      userid:
        type: string
  models.LibraryrequestForm:
    title: LibraryrequestForm
    type: object
    properties:
      bookqid:
        type: string
      qq:
        type: string
      telphone:
        type: string
      wechat:
        type: string
  models.LoginForm:
    title: LoginForm
    type: object
    properties:
      password:
        type: string
      telphone:
        type: string
  models.NewslistForm:
    title: NewslistForm
    type: object
    properties:
      draw:
        type: integer
        format: int64
      length:
        type: integer
        format: int64
      order_state:
        type: string
  models.OrderdeleteForm:
    title: OrderdeleteForm
    type: object
    properties:
      orderid:
        type: string
  models.OrderlistForm:
    title: OrderlistForm
    type: object
    properties:
      draw:
        type: integer
        format: int64
      isbn:
        type: string
      length:
        type: integer
        format: int64
      order_state:
        type: string
  models.OrderupdateForm:
    title: OrderupdateForm
    type: object
    properties:
      order_state:
        type: string
      orderid:
        type: string
  models.RefuseLibraryrequestForm:
    title: RefuseLibraryrequestForm
    type: object
    properties:
      newid:
        type: string
  models.UseraddForm:
    title: UseraddForm
    type: object
    properties:
      address:
        type: string
      age:
        type: integer
        format: int64
      city:
        type: string
      constellation:
        type: string
      gender:
        type: integer
        format: int64
      imgurl:
        type: string
      lat:
        type: number
        format: double
      long:
        type: number
        format: double
      nickname:
        type: string
      openid:
        type: string
      password:
        type: string
      province:
        type: string
      qq:
        type: string
      signature:
        type: string
      telphone:
        type: string
      weibo:
        type: string
      wimgurl:
        type: string
      wnickname:
        type: string
  models.UserinfoForm:
    title: UserinfoForm
    type: object
    properties:
      nickname:
        type: string
      telphone:
        type: string
      userid:
        type: string
tags:
- name: users
  description: |
    User API
- name: app
  description: |
    App API
